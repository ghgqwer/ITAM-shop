import{w as a}from"./entry.B0YtdMGf.js";const s=a([]);let c=a([]);async function u(){try{const t=await fetch("http://89.111.154.197:8080/api/products",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();return console.log(r),s.set(r),r.map(o=>(console.log("Обрабатываем товар:",o),{Name:o.Name,Description:o.Description,ProductID:o.ProductID,Photo:o.Photo,Count:o.Count,Price:o.Price,IsUnique:o.IsUnique,Category:o.Category}))}catch(t){console.log("Ошибка:",t)}return[]}async function i(t){try{let r=await fetch("http://89.111.154.197:8080/api/admin/storageProduct",{method:"DELETE",body:JSON.stringify({ExecutorLogin:"Vadim_cvbnqq1",ProductID:t})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);s.update(o=>o.filter(e=>e.ProductID!=t)),c.update(o=>o.filter(e=>e.ProductID!=t))}catch(r){console.log("Ошибка:",r)}}async function p(t){try{return await(await fetch(`http://89.111.154.197:8080/api/product/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json()}catch(r){console.log("Ошибка:",r)}}export{i as D,c as a,p as b,u as l};
